<h2>Search Policies</h2>

<form [formGroup]="searchForm" (ngSubmit)="searchPolicies()">
  <div class="form-group">
    <label for="policyNumber">Policy Number</label>
    <input id="policyNumber" formControlName="policyNumber" />
  </div>

  <div class="form-group">
    <label for="status">Status</label>
    <select id="status" formControlName="status">
      <option value="">Any</option>
      <option value="ACTIVE">Active</option>
      <option value="CANCELLED">Cancelled</option>
      <option value="EXPIRED">Expired</option>
    </select>
  </div>

  <div class="form-group">
    <label for="policyType">Policy Type</label>
    <select id="policyType" formControlName="policyType">
      <option value="">Any</option>
      <option value="LIABILITY">Liability</option>
      <option value="COLLISION">Collision</option>
      <option value="COMPREHENSIVE">Comprehensive</option>
    </select>
  </div>

  <div class="form-group">
    <label for="vehicleMake">Vehicle Make</label>
    <input id="vehicleMake" formControlName="vehicleMake" placeholder="Enter vehicle make"/>
  </div>

  <div class="form-group">
    <label for="startDate">Start Date</label>
    <input id="startDate" type="date" formControlName="startDate" />
  </div>

  <div class="form-group">
    <label for="endDate">End Date</label>
    <input id="endDate" type="date" formControlName="endDate" />
  </div>

  <button type="submit" class="full-width">Search</button>
</form>

<!-- Display Results -->
<div *ngIf="policies.length > 0">
  <h3>Search Results</h3>
  <table>
    <thead>
      <tr>
        <th>Policy Number</th>
        <th>Status</th>
        <th>Policy Type</th>
        <th>Vehicle</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Premium</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let policy of policies">
        <td>{{ policy.policyNumber }}</td>
        <td>{{ policy.status }}</td>
        <td>{{ policy.policyType }}</td>
        <td>{{ policy.vehicleMake }} {{ policy.vehicleModel }} ({{ policy.vehicleYear }})</td>
        <td>{{ policy.startDate }}</td>
        <td>{{ policy.endDate }}</td>
        <td>${{ policy.premiumAmount }}</td>
      </tr>
    </tbody>
  </table>
</div>





