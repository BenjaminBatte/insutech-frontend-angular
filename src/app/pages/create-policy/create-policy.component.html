<h2>Create Auto Policy</h2>

<form [formGroup]="policyForm" (ngSubmit)="createPolicy()">
  
  <div class="form-group">
    <label for="policyNumber">Policy Number</label>
    <input id="policyNumber" formControlName="policyNumber" required />
  </div>

  <div class="form-group">
    <label for="status">Status</label>
    <select id="status" formControlName="status">
      <option value="ACTIVE">Active</option>
      <option value="CANCELLED">Cancelled</option>
      <option value="EXPIRED">Expired</option>
    </select>
  </div>

  <div class="form-group">
    <label for="policyType">Policy Type</label>
    <select id="policyType" formControlName="policyType">
      <option value="LIABILITY">Liability</option>
      <option value="COLLISION">Collision</option>
      <option value="COMPREHENSIVE">Comprehensive</option>
    </select>
  </div>

  <!-- Vehicle Make -->
  <div class="form-group">
    <label for="vehicleMake">Vehicle Make</label>
    <select id="vehicleMake" formControlName="vehicleMake">
      <option *ngFor="let make of vehicleMakes" [value]="make">{{ make }}</option>
    </select>
  </div>

  <!-- Show input field when "Other" is selected -->
  <div class="form-group" *ngIf="showCustomMakeInput">
    <label for="customVehicleMake">Enter Vehicle Make</label>
    <input id="customVehicleMake" formControlName="customVehicleMake" required />
  </div>

  <div class="form-group">
    <label for="vehicleModel">Vehicle Model</label>
    <input id="vehicleModel" formControlName="vehicleModel" required />
  </div>

  <div class="form-group">
    <label for="vehicleYear">Vehicle Year</label>
    <select id="vehicleYear" formControlName="vehicleYear" required>
      <option *ngFor="let year of years" [value]="year">{{ year }}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="firstName">First Name</label>
    <input id="firstName" formControlName="firstName" required />
  </div>

  <div class="form-group">
    <label for="lastName">Last Name</label>
    <input id="lastName" formControlName="lastName" required />
  </div>

  <div class="form-group">
    <label for="startDate">Start Date</label>
    <input id="startDate" type="date" formControlName="startDate" required (change)="onStartDateChange()" />
  </div>

  <div class="form-group">
    <label for="endDate">End Date</label>
    <input id="endDate" type="date" formControlName="endDate" required />
  </div>

  <div class="form-group">
    <label for="premiumAmount">Premium Amount</label>
    <input id="premiumAmount" type="number" formControlName="premiumAmount" required />
  </div>

  <button type="submit" class="full-width" [disabled]="policyForm.invalid">Create Policy</button>
</form>
